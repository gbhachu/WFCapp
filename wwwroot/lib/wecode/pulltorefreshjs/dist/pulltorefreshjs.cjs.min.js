/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/@wecode/pulltorefreshjs@1.0.0/dist/pulltorefreshjs.cjs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var _shared={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1};try{window.addEventListener("test",null,{get passive(){_shared.supportsPassive=!0}})}catch(e){}function setupDOM(e){if(!e.ptrElement){var n=document.createElement("div");e.mainElement!==document.body?e.mainElement.parentNode.insertBefore(n,e.mainElement):document.body.insertBefore(n,document.body.firstChild),n.classList.add(e.classPrefix+"ptr"),n.innerHTML=e.getMarkup().replace(/__PREFIX__/g,e.classPrefix),e.ptrElement=n,"function"==typeof e.onInit&&e.onInit(e),_shared.styleEl||(_shared.styleEl=document.createElement("style"),_shared.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(_shared.styleEl)),_shared.styleEl.textContent=e.getStyles().replace(/__PREFIX__/g,e.classPrefix).replace(/\s+/g," ")}return e}function onReset(e){e.ptrElement.classList.remove(e.classPrefix+"refresh"),e.ptrElement.style[e.cssProp]="0px",setTimeout((function(){e.ptrElement&&e.ptrElement.parentNode&&(e.ptrElement.parentNode.removeChild(e.ptrElement),e.ptrElement=null),_shared.state="pending"}),e.refreshTimeout)}function update(e){var n=e.ptrElement.querySelector("."+e.classPrefix+"icon");n&&("refreshing"===_shared.state?n.innerHTML=e.iconRefreshing:n.innerHTML=e.iconArrow)}var _ptr={setupDOM:setupDOM,onReset:onReset,update:update},_setupEvents=function(){var e;function n(n){var t=_shared.handlers.filter((function(e){return e.contains(n.target)}))[0];_shared.enable=!!t,t&&"pending"===_shared.state&&(e=_ptr.setupDOM(t),t.shouldPullToRefresh()&&(_shared.pullStartY=n.touches[0].screenY),clearTimeout(_shared.timeout),_ptr.update(t))}function t(n){e&&e.ptrElement&&_shared.enable&&(_shared.pullStartY?_shared.pullMoveY=n.touches[0].screenY:e.shouldPullToRefresh()&&(_shared.pullStartY=n.touches[0].screenY),"refreshing"!==_shared.state?("pending"===_shared.state&&(e.ptrElement.classList.add(e.classPrefix+"pull"),_shared.state="pulling",_ptr.update(e)),_shared.pullStartY&&_shared.pullMoveY&&(_shared.dist=_shared.pullMoveY-_shared.pullStartY),_shared.distExtra=_shared.dist-e.distIgnore,_shared.distExtra>0&&(n.preventDefault(),e.ptrElement.style[e.cssProp]=_shared.distResisted+"px",_shared.distResisted=e.resistanceFunction(_shared.distExtra/e.distThreshold)*Math.min(e.distMax,_shared.distExtra),"pulling"===_shared.state&&_shared.distResisted>e.distThreshold&&(e.ptrElement.classList.add(e.classPrefix+"release"),_shared.state="releasing",_ptr.update(e)),"releasing"===_shared.state&&_shared.distResisted<e.distThreshold&&(e.ptrElement.classList.remove(e.classPrefix+"release"),_shared.state="pulling",_ptr.update(e)))):e.shouldPullToRefresh()&&_shared.pullStartY<_shared.pullMoveY&&n.preventDefault())}function s(e){_shared.state="pending",_ptr.update(e),setTimeout((function(){return _ptr.onReset(e)}),20)}function i(){if(e&&e.ptrElement&&_shared.enable){if("releasing"===_shared.state&&_shared.distResisted>e.distThreshold)_shared.state="refreshing",e.ptrElement.style[e.cssProp]=e.distReload+"px",e.ptrElement.classList.add(e.classPrefix+"refresh"),_shared.timeout=setTimeout((function(){var n=e.onRefresh((function(){return s(e)}));n&&"function"==typeof n.then&&n.then((function(){s(e)})),n||e.onRefresh.length||s(e)}),e.refreshTimeout);else{if("refreshing"===_shared.state)return;e.ptrElement.style[e.cssProp]="0px",_shared.state="pending"}_ptr.update(e),e.ptrElement.classList.remove(e.classPrefix+"release"),e.ptrElement.classList.remove(e.classPrefix+"pull"),_shared.pullStartY=_shared.pullMoveY=null,_shared.dist=_shared.distResisted=0}}function r(){e&&e.mainElement.classList.toggle(e.classPrefix+"top",e.shouldPullToRefresh())}var l=_shared.supportsPassive?{passive:_shared.passive||!1}:void 0;return window.addEventListener("touchend",i),window.addEventListener("touchstart",n),window.addEventListener("touchmove",t,l),window.addEventListener("scroll",r),{onTouchEnd:i,onTouchStart:n,onTouchMove:t,onScroll:r,destroy:function(){window.removeEventListener("touchstart",n),window.removeEventListener("touchend",i),window.removeEventListener("touchmove",t,l),window.removeEventListener("scroll",r)}}},_ptrMarkup='\n<div class="__PREFIX__box">\n  <div class="__PREFIX__content">\n    <div class="__PREFIX__icon"></div>\n  </div>\n</div>\n',_ptrStyles="\n.__PREFIX__ptr {\n  /* box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12); */\n  pointer-events: none;\n  font-size: 0.85em;\n  font-weight: bold;\n  top: 0;\n  height: 0;\n  transition: height 0.3s, min-height 0.3s;\n  text-align: center;\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: flex-end;\n  align-content: stretch;\n}\n\n.__PREFIX__box {\n  padding: 20px;\n  flex-basis: 100%;\n}\n\n.__PREFIX__pull {\n  transition: none;\n}\n\n.__PREFIX__text {\n  margin-top: .33em;\n  color: rgba(0, 0, 0, 0.3);\n}\n\n.__PREFIX__icon {\n  height: 12px;\n  color: rgba(0, 0, 0, 0.3);\n  transition: transform .3s;\n}\n\n/*\nWhen at the top of the page, disable vertical overscroll so passive touch\nlisteners can take over.\n*/\n.__PREFIX__top {\n  touch-action: pan-x pan-down pinch-zoom;\n}\n\n.weui-loading-dot {\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 12px;\n}\n.weui-loading-dot i {\n  position: absolute;\n  top: 0;\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  z-index: 1;\n}\n.weui-loading-dot i:nth-child(1) {\n  display: block;\n  left: 0;\n  background: #f25e51;\n}\n.weui-loading-dot.animated i:nth-child(1) {\n    animation: weui-animated_reddot 1.8s;\n    animation-iteration-count: infinite;\n}\n.weui-loading-dot i:nth-child(2) {\n  left: 24px;\n  background: #f6af39;\n}\n.weui-loading-dot.animated i:nth-child(2) {\n    animation: weui-animated_yellowdot 1.8s;\n    animation-iteration-count: infinite;\n}\n.weui-loading-dot i:nth-child(3) {\n  left: 48px;\n  background: #1ea5e8;\n}\n.weui-loading-dot.animated i:nth-child(3) {\n    animation: weui-animated_bluedot 1.8s;\n    animation-iteration-count: infinite;\n}\n@keyframes weui-animated_reddot {\n  0% {\n    left: 0px;\n  }\n  16.67% {\n    left: 24px;\n    z-index: 1;\n  }\n  33.33% {\n    left: 48px;\n  }\n  50% {\n    left: 24px;\n    z-index: 2;\n  }\n  66.66% {\n    left: 24px;\n    z-index: 1;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  100% {\n    left: 0px;\n  }\n}\n@-webkit-keyframes weui-animated_reddot {\n  0% {\n    left: 0px;\n  }\n  16.67% {\n    left: 24px;\n    z-index: 1;\n  }\n  33.33% {\n    left: 48px;\n  }\n  50% {\n    left: 24px;\n    z-index: 2;\n  }\n  66.66% {\n    left: 24px;\n    z-index: 1;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  100% {\n    left: 0px;\n  }\n}\n@keyframes weui-animated_yellowdot {\n  0% {\n    left: 24px;\n    z-index: 1;\n  }\n  16.67% {\n    left: 24px;\n    z-index: 1;\n  }\n  33.33% {\n    left: 0px;\n  }\n  50% {\n    left: 24px;\n    z-index: 1;\n  }\n  66.66% {\n    left: 48px;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 2;\n  }\n  100% {\n    left: 24px;\n    z-index: 2;\n  }\n}\n@-webkit-keyframes weui-animated_yellowdot {\n  0% {\n    left: 24px;\n    z-index: 1;\n  }\n  16.67% {\n    left: 24px;\n    z-index: 1;\n  }\n  33.33% {\n    left: 0px;\n  }\n  50% {\n    left: 24px;\n    z-index: 1;\n  }\n  66.66% {\n    left: 48px;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 2;\n  }\n  100% {\n    left: 24px;\n    z-index: 2;\n  }\n}\n@keyframes weui-animated_bluedot {\n  0% {\n    left: 48px;\n  }\n  16.66% {\n    left: 24px;\n    z-index: 2;\n  }\n  33.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  50% {\n    left: 24px;\n    z-index: 1;\n  }\n  66.66% {\n    left: 0px;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  100% {\n    left: 48px;\n  }\n}\n@-webkit-keyframes weui-animated_bluedot {\n  0% {\n    left: 48px;\n  }\n  16.66% {\n    left: 24px;\n    z-index: 2;\n  }\n  33.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  50% {\n    left: 24px;\n    z-index: 1;\n  }\n  66.66% {\n    left: 0px;\n  }\n  83.33% {\n    left: 24px;\n    z-index: 1;\n  }\n  100% {\n    left: 48px;\n  }\n}\n",_defaults={distThreshold:60,distMax:80,distReload:52,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:'<div class="weui-loading-dot"><i></i><i></i><i></i></div>',iconRefreshing:'<div class="weui-loading-dot animated"><i></i><i></i><i></i></div>',instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return _ptrMarkup},getStyles:function(){return _ptrStyles},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(e){return Math.min(1,e/2.5)},shouldPullToRefresh:function(){return"string"==typeof this.mainElement?!document.querySelector(this.mainElement).scrollTop:this.mainElement&&!this.mainElement.scrollTop}},_methods=["mainElement","ptrElement","triggerElement"],_setupHandler=function(e){var n={};return Object.keys(_defaults).forEach((function(t){n[t]=e[t]||_defaults[t]})),n.refreshTimeout="number"==typeof e.refreshTimeout?e.refreshTimeout:_defaults.refreshTimeout,_methods.forEach((function(e){"string"==typeof n[e]&&(n[e]=document.querySelector(n[e]))})),_shared.events||(_shared.events=_setupEvents()),n.contains=function(e){return n.triggerElement.contains(e)},n.destroy=function(){clearTimeout(_shared.timeout),_shared.handlers.splice(n.offset,1)},n},index={setPassiveMode:function(e){_shared.passive=e},destroyAll:function(){_shared.events&&(_shared.events.destroy(),_shared.events=null),_shared.handlers.forEach((function(e){e.destroy()}))},init:function(e){void 0===e&&(e={});var n=_setupHandler(e);return n.offset=_shared.handlers.push(n)-1,n},_:{setupHandler:_setupHandler,setupEvents:_setupEvents,setupDOM:_ptr.setupDOM,onReset:_ptr.onReset,update:_ptr.update}};module.exports=index;
//# sourceMappingURL=/sm/ab041f0fb78d75739c433b72ee5e31824561bb139112a2d62d4222a036985f7e.map